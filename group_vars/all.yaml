nginx_port: 80
nginx_sites_dir: /etc/nginx/sites-enabled
uwsgi_port: 5000

mysql_host: rovilu-2.{{ bind_domain }}
mysql_db: agama
mysql_user: agama
mysql_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65613734633365323836663139326364633733333034336535363631656334356463333932653635
  6666656430313635643733306462326332366566616639660a326564666166373564326237353038
  38323539386131643333653639656539633664306136333061396232316638306439336465616666
  3935393663383733620a366539343836623764343633313465613861356631376433323666306535
  61613235326263643338623264333961643838643562326535313439376634376237
mysql_socket: /var/run/mysqld/mysqld.sock

bind_domain: vilur.io
bind_allow_query: 192.168.42.0/23; 127.0.0.0/8;
bind_forwarders: 1.1.1.1; 8.8.8.8; 9.9.9.9; 9.9.9.10;

cron_dir: /etc/cron.d

backup_host_ip: 192.168.42.132
backup_host: backup
backup_host_fqdn: "{{ backup_host }}.{{ bind_domain }}"
backup_host_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
backup_host_user: rovilu
backup_user: backup
backup_user_home: /home/{{ backup_user }}
backup_user_home_mysql: "{{ backup_user_home }}/mysql"
backup_user_home_restore: "{{ backup_user_home }}/restore"
backup_user_home_influxdb: "{{ backup_user_home }}/influxdb"
backup_user_home_restore_mysql: "{{ backup_user_home_restore }}/mysql"
backup_user_home_restore_influxdb: "{{ backup_user_home_restore }}/influxdb"
backup_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  30333539306632386436303835666532623763383931303336353964363634653861343338396338
  3332613139346563393165396236383336343934663133320a356234306633306265643161353139
  61353134343434316632303732313463306566626461303332376536346563643038616466646532
  3966346266316437620a353437306566393536373638313030633862386663343337376266323536
  63346133333565653634396166313866613466313065306238316665316130363536653430356430
  3530313262303864356139356539366533336532376631613231
backup_mysql_cron_file: "{{ cron_dir }}/mysql-backup"
backup_mysql_dump: rm -rf {{ backup_user_home_mysql }}/* && mysqldump {{ mysql_db }} > {{ backup_user_home_mysql }}/{{ mysql_db }}.sql
backup_mysql_job: "{{ backup_mysql_dump }} && duplicity --no-encryption {{ item }} {{ backup_user_home_mysql }} rsync://{{ backup_host_user }}@{{ backup_host_fqdn }}/mysql"
backup_influxdb_cron_file: "{{ cron_dir }}/influxdb-backup"
backup_influxdb_dump: rm -rf {{ backup_user_home_influxdb }}/* && influxd backup -portable -database {{ influxdb_db }} {{ backup_user_home_influxdb }}
backup_influxdb_job: "{{ backup_influxdb_dump }} && duplicity --no-encryption {{ item }} {{ backup_user_home_influxdb }} rsync://{{ backup_host_user }}@{{ backup_host_fqdn }}/influxdb"

monitoring_host: "{{ hostvars['rovilu-2']['ansible_host'] }}"
monitoring_host_port: 45180

prometheus_host: "{{ monitoring_host }}"
prometheus_host_port: "{{ monitoring_host_port }}"
prometheus_service_port: 9090
prometheus_user: prometheus

grafana_host: "{{ monitoring_host }}"
grafana_host_port: "{{ monitoring_host_port }}"
grafana_service_port: 3000
grafana_user: grafana
grafana_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65396261343562323164363263643032613165396335636661333137643730323936386336663363
  3764623766633332393231623334303537346130393235300a306662383831313838323836366566
  36323937333334303037313863613935336134316462326264353339363662393362616165613136
  6639326261633466350a343261383532636462393566616563643435633562353536656136636265
  61613032326235653233323235303063623866623638343934653262636665353031

node_exporter_port: 9100
nginx_exporter_port: 9113
bind_exporter_port: 9119
mysql_exporter_port: 9104
mysql_exporter_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  62393962376534333933316161303863346364653535653863656664336331343134353765613237
  6533383531656662656534366533626136613465623730330a623835643130333765373663363261
  38623130633261386331393832343632646637616139306230623431323466633439323434613763
  3633616463363033660a303962653237383734323962383763343639633834623061353334626630
  63663765363765386339343635623537333864626165613563303864666366363938
pinger_user: pinger
influxdb_db: telegraf
influxdb_port: 8086
syslog_port: 6514
